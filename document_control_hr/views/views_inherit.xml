<openerp>
  <data>
  
    <record model="ir.ui.view" id="document_control_base.document_form_hr">
	  <field name="model">document_control_base.document</field>
      <field name="inherit_id" ref="document_control_base.document_form" />
      <field name="mode">primary</field>
      <field name="arch" type="xml">
      	
      	<field name="res_partner_id" position="after">
					<label for="hr_employee_id" attrs="{'invisible':[('res_type', '!=', 'hr.employee')]}" class="oe_edit_only" />
					<field name="hr_employee_id" attrs="{'invisible':[('res_type', '!=', 'hr.employee')]}" class="oe_edit_only"/>
      	</field>

		<field name="expiration_id" position="attributes">
				<attribute name="context">{'form_view_ref': 'document_control_base.expiration_form','resources':'expirations','name':'Vencimiento:','res_partner_id':res_partner_id,'hr_employee_id':hr_employee_id,'document_name_id':document_name_id}</attribute>
<!--             <attribute name="context" add=" py.PY_setItem(py.evaluate(expr.first, context),'hr_employee_id', hr_employee_id)" separator=" "></attribute> -->
            
		</field>

	  </field>
	 </record>

    <record model="ir.ui.view" id="document_control_base.document_set_form_hr">
	  <field name="model">document_control_base.document_set</field>
      <field name="inherit_id" ref="document_control_base.document_set_form" />
	  <field name="mode">primary</field>       
      <field name="arch" type="xml">
      
		<field name="partner_ids" position="after">
			<field name="hr_employee_ids">
				<tree limit="5">
                    <field name="name"/>
                    <field name="work_phone"/>
                    <field name="work_email"/>
                    <field name="parent_id"/>
                </tree>
			</field>
		</field>
      
      </field>
    </record>


		<record id="document_control_base.document_set_document_rel_list_hr" model="ir.ui.view">
			<field name="model">document_control_base.document_set_document_rel</field>
		    <field name="inherit_id" ref="document_control_base.document_set_document_rel_list" />
		    <field name="mode">primary</field> 
			<field name="arch" type="xml">
					<field name="res_partner_id" position="after">

		                <field name="hr_employee_id"/>
<!-- 		                 attrs="{'invisible':[('res_type', '!=', 'hr.employee')]}"  -->
					</field>
			</field>
		</record>


		<record id="document_control_base.document_set_document_rel_form_hr" model="ir.ui.view">
			<field name="model">document_control_base.document_set_document_rel</field>
		    <field name="inherit_id" ref="document_control_base.document_set_document_rel_form" />
		    <field name="mode">primary</field> 
			<field name="arch" type="xml">
				<field name="res_type" position="after">
					<field name="hr_employee_id"  attrs="{'invisible':[('res_type', '!=', 'hr.employee')]}" />
				</field>
			</field>
		</record>

        <record id="hr_employee_form" model="ir.ui.view">
			<field name="name">hr.employee.form.docs.hr</field>
			<field name="model">hr.employee</field>
			<field name="inherit_id" ref="hr.view_employee_form" />
			<field name="arch" type="xml">
				<notebook position="inside">
                    	<page string="Documentos">
							<label for="resource_condition_ids"/>
				            <field name="resource_condition_ids" widget="many2many_tags" domain="[('res_type','=','hr.employee')]"/>
                        
							<label for="document_ids"/>
                            <field name="document_ids" context="{'default_res_type':'hr.employee','default_hr_employee_id':id}"/>
                        </page>
				</notebook>

			</field>
		</record>


  </data>
</openerp>